(this["webpackJsonpnd0191-myreads-starter"]=this["webpackJsonpnd0191-myreads-starter"]||[]).push([[0],{30:function(e,t,s){},31:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),r=s(25),a=s.n(r),o=(s(30),s(31),s(18)),i="https://reactnd-books-api.udacity.com",d=localStorage.token;d||(d=localStorage.token=Math.random().toString(36).substr(-8));var l={Accept:"application/json",Authorization:d},h=function(){return fetch("".concat(i,"/books"),{headers:l}).then((function(e){return e.json()})).then((function(e){return e.books}))},A=s(4),O=s(3),k=Object(n.createContext)(""),b=function(e){var t=e.children,s=Object(n.useState)([]),c=Object(A.a)(s,2),r=c[0],a=c[1],o=Object(n.useState)([]),i=Object(A.a)(o,2),d=i[0],l=i[1];return Object(O.jsx)(k.Provider,{value:{books:r,setBooks:a,searchedbooks:d,setSearchedbooks:l},children:t})},j=s.p+"static/media/arrow-drop-down.98ef3b31.svg",u=(s(33),function(e){var t=e.title,s=e.authors,n=e.pic,c=e.book,r=function(e,t,s){(function(e,t){return fetch("".concat(i,"/books/").concat(e.id),{method:"PUT",headers:Object(o.a)(Object(o.a)({},l),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))})(e,t).then(h())};return Object(O.jsxs)("div",{className:"book mx-2",children:[Object(O.jsxs)("div",{className:"book-top",children:[Object(O.jsx)("img",{className:"book-cover",style:{width:128,height:193},src:n}),Object(O.jsx)("div",{className:"book-shelf-changer",style:{backgroundImage:"url(".concat(j,")")},children:Object(O.jsxs)("select",{value:c.shelf?c.shelf:"none",onChange:function(e){r(c,e.target.value)},children:[Object(O.jsx)("option",{value:"move",disabled:!0,children:"Move to..."}),Object(O.jsx)("option",{value:"currentlyReading",children:"Currently Reading"}),Object(O.jsx)("option",{value:"wantToRead",children:"Want to Read"}),Object(O.jsx)("option",{value:"read",children:"Read"}),Object(O.jsx)("option",{value:"none",children:"None"})]})})]}),Object(O.jsx)("div",{className:"book-title",children:t}),Object(O.jsx)("div",{className:"book-authors",children:s})]})}),y=function(e){var t=e.books,s=e.title,n=e.isSearch;return Object(O.jsxs)("div",{className:"bookshelf my-3",children:[Object(O.jsx)("h2",{className:"bookshelf-title",children:s}),Object(O.jsx)("div",{className:"bookshelf-books",children:Object(O.jsx)("ol",{className:"books-grid",children:t.map((function(e){var t=e.title?e.title:"Unknown",s=e.authors?e.authors:"Not Found",c=void 0===e.imageLinks?"data:image/jpeg;base64,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":e.imageLinks.thumbnail;return Object(O.jsx)(u,{title:t,authors:s,pic:c,isSearch:n,book:e},e.id)}))})})]})},p=s(9),x=function(e){e.targetValue,e.books,e.onSetShowSearchpage,e.showSearchPage;var t=Object(n.useContext)(k),s=t.searchedbooks,c=t.setSearchedbooks,r=function(e){var t,s;""!==e?(t=e,fetch("".concat(i,"/search"),{method:"POST",headers:Object(o.a)(Object(o.a)({},l),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:t,maxResults:s})}).then((function(e){return e.json()})).then((function(e){return e.books}))).then((function(e){return console.log(e),"empty query"===e.error?c([]):c(e)})):c([])};return Object(O.jsxs)("div",{className:"search-books",children:[Object(O.jsxs)("div",{className:"search-books-bar",children:[Object(O.jsx)(p.b,{className:"close-search",to:"/",children:"Close"}),Object(O.jsx)("div",{className:"search-books-input-wrapper",children:Object(O.jsx)("input",{type:"text",placeholder:"Search by title, author, or ISBN",onChange:function(e){r(e.target.value)}})})]}),Object(O.jsx)("div",{className:"search-books-results",children:Object(O.jsx)("ol",{className:"books-grid",children:Object(O.jsx)(y,{books:s,isSearch:!0,title:"Search Results"})})})]})},m=s(2);var Z=function(){var e=Object(n.useContext)(k),t=e.books,s=e.setBooks,c=t.filter((function(e){return"currentlyReading"===e.shelf})),r=t.filter((function(e){return"wantToRead"===e.shelf})),a=t.filter((function(e){return"read"===e.shelf}));return Object(n.useEffect)((function(){h().then((function(e){s(e)})).catch((function(e){console.log("error")}))}),[t]),Object(O.jsx)("div",{className:"app",children:Object(O.jsxs)(m.c,{children:[Object(O.jsx)(m.a,{exact:!0,path:"/search",element:Object(O.jsx)(x,{books:t})}),Object(O.jsx)(m.a,{path:"/",element:Object(O.jsxs)("div",{className:"list-books",children:[Object(O.jsx)("div",{className:"list-books-title",children:Object(O.jsx)("h1",{children:"MyReads"})}),Object(O.jsx)("div",{className:"list-books-content",children:Object(O.jsxs)("div",{children:[Object(O.jsx)(y,{books:c,title:"Currently Reading",isSearch:!1}),Object(O.jsx)(y,{books:r,title:"Want To Read",isSearch:!1}),Object(O.jsx)(y,{books:a,title:"Read",isSearch:!1})]})}),Object(O.jsx)("div",{className:"open-search",children:Object(O.jsx)(p.b,{to:"search"})})]})})]})})};a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(p.a,{children:Object(O.jsx)(b,{children:Object(O.jsx)(Z,{})})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.896eb6a5.chunk.js.map